<!DOCTYPE html>
<html lang="et">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Sidisain Veebileht</title>
    <link rel="prefetch" href="tood/tood.html">
    <style>
        html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    width: 100%;
    font-family: 'Montserrat', sans-serif;
    box-sizing: border-box; /* Kindlasti lisatud kogu lehe ulatuses */
}

body {
    display: flex;
    flex-direction: column;
}

.suur {
    width: 100%;
    height: 100%;
    padding: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background-color: #001528;
    align-items: center; /* Muudetud keskseks, et vältida valgeid ääri */
}

.menu, .footer {
    margin-left: 0; /* Muudetud, et vältida üleliigseid ääri */
    margin-right: 0; /* Lisatud, et tagada, et ei jääks valgeid ääreid paremal */
}

.container {
    flex: 1;
    background-color: #003B5C;
    border-radius: 2rem;
    box-sizing: border-box;
    padding: 0 1rem; /* Väiksem padding väiksematele ekraanidele */
    display: flex;
    align-items: center;
    position: relative;
    justify-content: center;
    max-width: 100%; /* Maksimaalne laius 100% */
    margin: 0; /* Eemaldatud vasak ja parem margin */
}

.left-side, .right-side {
    width: 100%; /* Laius 100% väiksematele ekraanidele */
    display: flex;
    flex-direction: column;
}

.left-side {
    color: #ffffff;
    padding: 0 0 0 0;
    justify-content: flex-start;
    align-items: flex-start;
}

.left-side p {
    font-weight: 300;
    line-height: 1.6;
    font-size: 1em; /* Väiksem font-size väiksematele ekraanidele */
}

.right-side {
    justify-content: center;
    align-items: center;
    padding: 0;
}

#html5-banner {
    display: flex;
    justify-content: center;
    width: 100%;
    height: 100%;
}

#html5-banner object {
    max-width: 100%; /* Kohandatud väiksematele ekraanidele */
    max-height: 20rem; /* Väiksem maksimaalne kõrgus väiksematele ekraanidele */
    border: none;
    border-radius: 3rem;
}

.btn {
    background-color: #87CEFA;
    color: #001528;
    border: none;
    border-radius: 3rem;
    padding: 0.5rem 1rem; /* Väiksem padding väiksematele ekraanidele */
    font-size: 0.9rem; /* Väiksem font-size väiksematele ekraanidele */
    font-weight: 500;
    cursor: pointer;
    margin-top: 2rem;
    align-self: flex-start;
    font-weight: 700 !important;
}

.btn:hover {
    background-color: #c0ac8e;
    color: #001528;
}

#logo-animation {
    width: 60vw; /* Väiksem logo suurus väiksematele ekraanidele */
    height: auto; /* Auto kõrgus, et vältida deformatsioone */
    display: flex;
    justify-content: center;
    align-items: flex-start;
}

/* Meedia päringud */
@media (max-width: 1024px) {
    .container {
        flex-direction: column;
        padding: 1rem;
    }

    .left-side, .right-side {
        width: 100%;
        padding: 1rem 0;
    }

    .right-side {
        padding: 1rem 0 0;
    }
}

@media (max-width: 768px) {
    .left-side p {
        font-size: 1em;
    }

    .btn {
        font-size: 1rem;
        padding: 0.6rem 1.5rem;
    }

    #html5-banner object {
        max-width: 20rem;
        max-height: 20rem;
    }
}

@media (max-width: 480px) {
    .container {
        padding: 1rem;
    }

    .left-side p {
        font-size: 0.9em;
    }

    .btn {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
    }
}

    </style>
    <!-- Lottie teek -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.5/lottie.min.js"></script>
</head>
<body>
<div class="suur">
    <div id="menu-placeholder"></div>
    
    <div class="container">
        <div class="left-side">
            <div class="logo-container">
                <div id="logo-animation"></div>
            </div>
            <p>
               Tere tulemast Sidisain veebilehele! Meie kireks on logode ja brändingu, liikuva graafika, tootefotograafia ning graafilise disaini loomine, mis aitavad teie ettevõttel silma paista ja kliente juurde tuua. 
                Pühendume detailidele ja loome visuaalseid lahendusi, mis toetavad teie äri kasvu ja eristavad teid konkurentidest.
            </p>
            <button class="btn" onclick="location.href='projektid.html';">Projektid</button>
        </div>
        <div class="right-side">
            <div id="html5-banner">
                <object type="text/html" data="tood/tood.html" width="500" height="500"></object>
          
            </div>
        </div>
    </div>
    <div id="footer-placeholder"></div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Laadi menüü sisu
    fetch('menu.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('menu-placeholder').innerHTML = data;
        });

    // Laadi footer sisu
    fetch('footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        });

    // Muutujad animatsiooni jälgimiseks
    let animation = null;
    let animationPath = '';

    function loadAnimation() {
        // Kontrolli, kas seade on portree režiimis
        let newAnimationPath = window.matchMedia("(orientation: portrait)").matches 
            ? 'sidisainsuur.json' 
            : 'sidisain.json';

        // Kui animatsioon on juba olemas ja tee ei ole muutunud, siis ei tee midagi
        if (animation && animationPath === newAnimationPath) {
            return;
        }

        // Tühjenda vana animatsioon, kui olemas
        if (animation) {
            animation.destroy(); // Lõpeta vana animatsioon
        }

        // Uuenda animatsiooni teed ja alusta uut animatsiooni
        animationPath = newAnimationPath;

        animation = lottie.loadAnimation({
            container: document.getElementById('logo-animation'), // konteiner
            renderer: 'svg',
            loop: true, // animatsiooni kordamine
            autoplay: true, // automaatne mängimine
            path: animationPath // animatsiooni JSON-faili asukoht
        });

        animation.addEventListener('data_failed', function() {
            console.error('Animatsiooni andmete laadimine ebaõnnestus.');
        });

        animation.addEventListener('DOMLoaded', function() {
            console.log('Animatsiooni andmed on laaditud.');
        });

        animation.addEventListener('complete', function() {
            // Mängi viimast kaadrit
            animation.goToAndStop(animation.totalFrames, true);
        });
    }

    // Laadi animatsioon lehe laadimisel
    loadAnimation();

    // Kuula orientatsiooni muutusi
    window.addEventListener('resize', loadAnimation);

    // Laadi HTML-bänner asünkroonselt
    function loadHtmlBanner() {
        let bannerContainer = document.getElementById('html5-banner');
        
        // Kontrolli, kas bänner on juba olemas
        if (bannerContainer.children.length === 0) {
            let objectElement = document.createElement('object');
            objectElement.type = 'text/html';
            objectElement.data = 'tood/tood.html';
            objectElement.width = '500';
            objectElement.height = '500';
            bannerContainer.appendChild(objectElement);
        }
    }

    // Laadi HTML-bänner pärast DOM täielikku laadimist
    loadHtmlBanner();
});
</script>
</body>
</html>
